/*
 * test_data_tsdf.hpp
 *
 *  Created on: Jan 30, 2019
 *      Author: Gregory Kramida
 *   Copyright: 2019 Gregory Kramida
 *
 *   Licensed under the Apache License, Version 2.0 (the "License");
 *   you may not use this file except in compliance with the License.
 *   You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 *   Unless required by applicable law or agreed to in writing, software
 *   distributed under the License is distributed on an "AS IS" BASIS,
 *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *   See the License for the specific language governing permissions and
 *   limitations under the License.
 */

#pragma once

#include <unsupported/Eigen/CXX11/Tensor>
#include <Eigen/Eigen>
#include "../src/math/tensors.hpp"
#include "../src/math/typedefs.hpp"

namespace eig = Eigen;

namespace test_data {
static eig::Matrix<unsigned short, eig::Dynamic, eig::Dynamic> depth_image_region = [] {
	eig::Matrix<unsigned short, eig::Dynamic, eig::Dynamic> depth_image_region(3,18);
	depth_image_region <<
	3233, 3246, 3243, 3256, 3253, 3268, 3263, 3279, 3272, 3289, 3282, 3299, 3291, 3308, 3301, 3317, 3310, 3326,
	3233, 3246, 3243, 3256, 3253, 3268, 3263, 3279, 3272, 3289, 3282, 3299, 3291, 3308, 3301, 3317, 3310, 3326,
	3233, 3246, 3243, 3256, 3253, 3268, 3263, 3279, 3272, 3289, 3282, 3299, 3291, 3308, 3301, 3317, 3310, 3326;
	return depth_image_region;
}();

static eig::MatrixXf out_sdf_field =
		[] {
			eig::MatrixXf out_sdf_field(16,16);
			out_sdf_field <<
			0.874189f, 0.9932184f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f,
			0.7656811f, 0.8814954f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f,
			0.6504901f, 0.7699194f, 0.89273447f, 0.994546f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f,
			0.5409636f, 0.65847576f, 0.7820716f, 0.88598526f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f,
			0.43140593f, 0.5471409f, 0.66704684f, 0.7770867f, 0.8991682f, 0.9970366f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f,
			0.32196245f, 0.4186114f, 0.55751824f, 0.653232f, 0.78992105f, 0.8830927f, 0.99349546f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f,
			0.20707877f, 0.30999166f, 0.43462086f, 0.54464984f, 0.6617056f, 0.77344257f, 0.88291764f, 0.9927177f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f,
			0.09879705f, 0.18642762f, 0.3247289f, 0.42850664f, 0.5502955f, 0.6636105f, 0.77237403f, 0.88033676f, 0.97516453f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f,
			-0.00902274f, 0.07867973f, 0.2152125f, 0.31820253f, 0.43899724f, 0.55378044f, 0.6443364f, 0.7718065f, 0.8531987f, 0.9859558f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f,
			-0.13057046f, -0.02952692f, 0.08697064f, 0.2076269f, 0.32776707f, 0.44127387f, 0.5363708f, 0.65067255f, 0.744596f, 0.85670555f, 0.9630711f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f,
			-0.23877731f, -0.14415736f, -0.02455216f, 0.09695236f, 0.21658102f, 0.33207837f, 0.41394132f, 0.5418293f, 0.6321864f, 0.7453086f, 0.8534187f, 0.9555119f, 1.0f, 1.0f, 1.0f, 1.0f,
			-0.34670642f, -0.25351036f, -0.135938f, -0.01366691f, 0.08872667f, 0.22346376f, 0.30653092f, 0.43353093f, 0.52243364f, 0.6339851f, 0.7438599f, 0.8284237f, 0.95121753f, 1.0f, 1.0f, 1.0f,
			-0.47345358f, -0.36296278f, -0.24720258f, -0.12887469f, -0.01996832f, 0.10148326f, 0.19841304f, 0.30502844f, 0.4125015f, 0.52266896f, 0.63263124f, 0.72018117f, 0.8302009f, 0.9177792f, 1.0f, 1.0f,
			-0.5835536f, -0.47238582f, -0.37705892f, -0.23851247f, -0.1440167f, -0.00778072f, 0.08470707f, 0.19444697f, 0.30259356f, 0.39240432f, 0.52388203f, 0.59920317f, 0.7218766f, 0.8063176f, 0.91247654f, 1.0f,
			-0.6936296f, -0.5816594f, -0.48549518f, -0.34763974f, -0.25230578f, -0.1352762f, -0.02480315f, 0.08396093f, 0.19290383f, 0.28379405f, 0.4030714f, 0.49141586f, 0.59485704f, 0.69655037f, 0.8012409f, 0.906666f,
			-0.80368346f, -0.6961099f, -0.5941181f, -0.47093272f, -0.36117333f, -0.24660648f, -0.13451731f, -0.02647889f, 0.08059675f, 0.17470567f, 0.29374388f, 0.38287818f, 0.48430267f, 0.58674127f, 0.6899247f, 0.79556435f;
			return out_sdf_field;
		}();

static eig::MatrixXus depth_00064_sample = [] {
	eig::MatrixXus depth_00064_sample(1,20);
	depth_00064_sample << 2121, 2126, 2124, 2123, 2128, 2133, 2138, 2130, 2135, 2140, 2145,
	2147, 2142, 2147, 2152, 2158, 2150, 2155, 2160, 2165;
	return depth_00064_sample;

}();

static eig::Tensor<float, 3> TSDF_slice01 =
		[] {
			float data[] = {
				-0.175f, -0.2f, -0.225001f, -0.525001f, -0.549999f, -0.625001f, -0.650001f, -0.687499f,
				-0.725f, -0.75f, -0.799999f, -0.85f, -1.f, -1.f, -1.f, -1.f,

				-7.45058e-07f, -0.299999f, -0.325f, -0.400001f, -0.425f, -0.450001f, -0.500001f, -0.525f,
				-0.575001f, -0.874999f, -0.925f, -0.975f, -0.999999f, -1.f, -1.f, -1.f,

				-0.125f, -0.175001f, -0.2f, -0.224999f, -0.274999f, -0.299999f, -0.5f, -0.65f,
				-0.699999f, -0.725f, -0.775f, -0.825f, -0.849999f, -0.899999f, -0.95f, -1.f,

				0.0250004f, 7.45058e-07f, -0.0250012f, -0.0749998f, -0.375f, -0.424999f, -0.45f, -0.499999f,
				-0.525001f, -0.574999f, -0.624999f, -0.650001f, -0.699999f, -1.f, -1.f, -1.f,

				0.2f, 0.0f, -0.15f, -0.174999f, -0.225001f, -0.25f, -0.3f, -0.337499f,
				-0.375f, -0.425f, -0.650001f, -0.774999f, -0.825001f, -0.875f, -0.925f, -0.975001f,

				0.1f, 0.0500001f, 0.0249989f, -0.0250004f, -0.0500008f, -0.100001f, -0.149999f, -0.349999f,
				-0.500001f, -0.549999f, -0.599999f, -0.625001f, -0.675001f, -0.700001f, -0.75f, -0.800002f,

				0.249999f, 0.225001f, 0.174999f, 0.15f, 0.1f, -0.225001f, -0.25f, -0.3f,
				-0.350001f, -0.399999f, -0.399999f, -0.45f, -0.5f, -0.550001f, -0.899999f, -0.925f,

				0.425f, 0.374998f, 0.0749998f, 0.0250012f, 7.45058e-07f, -0.0500001f, -0.0999995f, -0.15f,
				-0.174999f, -0.2f, -0.25f, -0.6f, -0.624999f, -0.675001f, -0.725f, -0.775f,

				0.325001f, 0.274999f, 0.224999f, 0.200001f, 0.15f, 0.124998f, 0.074999f, 0.0375003f,
				-0.3f, -0.325f, -0.374999f, -0.424999f, -0.450001f, -0.499999f, -0.575f, -0.625001f,

				0.475001f, 0.449999f, 0.424999f, 0.375002f, 0.325f, 0.f, -0.0250004f, -0.0749998f,
				-0.125001f, -0.15f, -0.2f, -0.25f, -0.275f, -0.325f, -0.400001f, -0.724999f,

				0.675001f, 0.625001f, 0.425f, 0.274999f, 0.225f, 0.174999f, 0.15f, 0.0999995f,
				0.0500016f, 0.0250004f, -0.0250004f, -0.225001f, -0.425f, -0.499999f, -0.525001f, -0.575001f,

				0.575f, 0.524999f, 0.475f, 0.450001f, 0.400001f, 0.350001f, 0.324998f, 0.275f,
				0.0750005f, -0.125001f, -0.15f, -0.2f, -0.225002f, -0.300001f, -0.350001f, -0.375001f,

				0.749999f, 0.699999f, 0.674999f, 0.650002f, 0.6f, 0.275f, 0.2f, 0.1625f, 0.100001f,
				0.0749998f, 0.0250012f, 7.45058e-07f, -0.0499994f, -0.0999995f, -0.149999f, -0.425f,

				0.95f, 0.899999f, 0.574999f, 0.5f, 0.475f, 0.424998f, 0.4f, 0.349999f,
				0.325f, 0.250001f, 0.225001f, 0.0749998f, -0.175f, -0.25f, -0.274999f, -0.337499f,

				0.85f, 0.800001f, 0.775f, 0.725f, 0.65f, 0.624999f, 0.599999f, 0.550001f,
				0.275001f, 0.15f, 0.0749998f, 0.0500008f, 0.0249997f, -0.0500008f, -0.074999f, -0.15f,

				1.0f, 1.0f, 0.95f, 0.925001f, 0.775f, 0.525f, 0.474999f, 0.425002f,
				0.374998f, 0.349999f, 0.275f, 0.25f, 0.224999f, 0.15f, 0.0500001f, -0.124998f};

			auto mapped_t = Eigen::TensorMap<Eigen::Tensor<float, 3, Eigen::RowMajor>>(data, 16, 1, 16);
			Eigen::Tensor<float, 3> TSDF_slice01 = Eigen::TensorLayoutSwapOp<Eigen::Tensor<float, 3, Eigen::RowMajor>>(mapped_t);
			return TSDF_slice01;
		}();

} //namespace test_data
